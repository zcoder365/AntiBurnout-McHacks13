{% extends "base.html" %}
{% block content %}

{% if score %}
<div class="results-div">
    <div class="score-div">
        <h3>Score:</h3>
        <p>{{score}}</p>
        <p>{{category}}</p>
    </div>

    <div class="feedback-div">
        <h3>Feedback:</h3>
        <p>{{feedback}}</p>
    </div>

    {% if score >= 60 %}
    <div class="wellness-links">
        <a href="https://www.mcgill.ca/wellness-hub/#:~:text=Student%20Wellness%20Hub%20Events" target="_blank">Wellness Hub Events</a>
        <a href="https://recreation.mcgill.ca/stressbusters#:~:text=Free%20Week%20Schedule" target="_blank">McGill Stress Busters Schedule</a>
    </div>
    {% endif %}
</div>
{% else %}
<div class="no-results">
    <p>You have no results.</p>
    <a href="/track"><button>Add data</button></a>
</div>
{% endif %}

<script>
    function changeBackground(value) {
        // define your start and end colors (in RGB)
        const blueRGB = { r: 135, g: 206, b: 235 };  // #87CEEB
        const redRGB = { r: 220, g: 20, b: 60 };     // #DC143C
        
        // calculate the percentage (0 to 1)
        const percentage = value / 100;
        
        // interpolate each color channel
        const r = Math.round(blueRGB.r + (redRGB.r - blueRGB.r) * percentage);
        const g = Math.round(blueRGB.g + (redRGB.g - blueRGB.g) * percentage);
        const b = Math.round(blueRGB.b + (redRGB.b - blueRGB.b) * percentage);
        
        // apply the interpolated color to the background
        document.body.style.backgroundColor = `rgb(${r}, ${g}, ${b})`;
    }

    changeBackground(score);
</script>

{% endblock %}